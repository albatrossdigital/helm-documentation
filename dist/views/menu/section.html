<div ng-repeat="node in nodes"
     class="node"
     ng-class="'depth-'+node.depth"
     id="{{mlid}}/{{node.mlid}}" 
     in-view="$inview&&inViewScroll(node)"
     in-view-options="{offsetTop: windowHeight}"
     ng-if="node.node.body.value">
     
  <div class="node-title" ng-switch on="node.depth">
    <h3>{{node.node.title}}</h3>
  </div>
  <div class="body" ng-bind-html="trustedBody(node)"></div>
</div>
<div anchor-scroll></div>